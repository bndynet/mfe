(self.webpackChunkhost=self.webpackChunkhost||[]).push([[6884],{6884:(q,E,l)=>{l.r(E),l.d(E,{CDK_MENU:()=>m,CdkContextMenuTrigger:()=>H,CdkMenu:()=>x,CdkMenuBar:()=>w,CdkMenuBase:()=>O,CdkMenuGroup:()=>p,CdkMenuItem:()=>f,CdkMenuItemCheckbox:()=>j,CdkMenuItemRadio:()=>B,CdkMenuItemSelectable:()=>_,CdkMenuModule:()=>J,CdkMenuTrigger:()=>I,CdkMenuTriggerBase:()=>T,CdkTargetMenuAim:()=>P,ContextMenuTracker:()=>N,MENU_AIM:()=>y,MENU_STACK:()=>h,MENU_TRIGGER:()=>k,MenuStack:()=>M,PARENT_OR_NEW_INLINE_MENU_STACK_PROVIDER:()=>A,PARENT_OR_NEW_MENU_STACK_PROVIDER:()=>S,PointerFocusTracker:()=>F,TargetMenuAim:()=>D});var n=l(8944),g=l(7798),o=l(9399),u=l(6209),v=l(4177),c=l(3970),U=l(4325),W=l(9034),C=l(8968),b=l(8441);let p=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[n.\u0275\u0275ProvidersFeature([{provide:v.UniqueSelectionDispatcher,useClass:v.UniqueSelectionDispatcher}])]}),i})();const m=new n.InjectionToken("cdk-menu"),h=new n.InjectionToken("cdk-menu-stack"),S={provide:h,deps:[[new n.Optional,new n.SkipSelf,new n.Inject(h)]],useFactory:i=>i||new M},A=i=>({provide:h,deps:[[new n.Optional,new n.SkipSelf,new n.Inject(h)]],useFactory:s=>s||M.inline(i)});let L=0,M=(()=>{class i{constructor(){this.id=""+L++,this._elements=[],this._close=new c.Subject,this._empty=new c.Subject,this._hasFocus=new c.Subject,this.closed=this._close,this.hasFocus=this._hasFocus.pipe((0,u.startWith)(!1),(0,u.debounceTime)(0),(0,u.distinctUntilChanged)()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(e){const t=new i;return t._inlineMenuOrientation=e,t}push(e){this._elements.push(e)}close(e,t){const{focusNextOnEmpty:r,focusParentTrigger:a}={...t};if(this._elements.indexOf(e)>=0){let d;do{d=this._elements.pop(),this._close.next({item:d,focusParentTrigger:a})}while(d!==e);this.isEmpty()&&this._empty.next(r)}}closeSubMenuOf(e){let t=!1;if(this._elements.indexOf(e)>=0)for(t=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return t}closeAll(e){const{focusNextOnEmpty:t,focusParentTrigger:r}={...e};if(!this.isEmpty()){for(;!this.isEmpty();){const a=this._elements.pop();a&&this._close.next({item:a,focusParentTrigger:r})}this._empty.next(t)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})();const k=new n.InjectionToken("cdk-menu-trigger");let T=(()=>{class i{constructor(){this.injector=(0,n.inject)(n.Injector),this.viewContainerRef=(0,n.inject)(n.ViewContainerRef),this.menuStack=(0,n.inject)(h),this.opened=new n.EventEmitter,this.closed=new n.EventEmitter,this.overlayRef=null,this.destroyed=new c.Subject,this.stopOutsideClicksListener=(0,c.merge)(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){return this.menuTemplateRef&&(!this._menuPortal||this.menuTemplateRef!==this._menuPortal?.templateRef)&&(this._menuPortal=new U.TemplatePortal(this.menuTemplateRef,this.viewContainerRef,void 0,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let t=e;t;t=t?.parentElement??null)if(t.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||n.Injector.create({providers:[{provide:k,useValue:this},{provide:h,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,hostVars:2,hostBindings:function(e,t){2&e&&n.\u0275\u0275attribute("aria-controls",null==t.childMenu?null:t.childMenu.id)("data-cdk-menu-stack-id",t.menuStack.id)}}),i})();const y=new n.InjectionToken("cdk-menu-aim");function Z(i,s){return(s.y-i.y)/(s.x-i.x)}function z(i,s){return i.y-s*i.x}function Y(i,s,e){const{left:t,right:r,top:a,bottom:d}=i;return s*t+e>=a&&s*t+e<=d||s*r+e>=a&&s*r+e<=d||(a-e)/s>=t&&(a-e)/s<=r||(d-e)/s>=t&&(d-e)/s<=r}let D=(()=>{class i{constructor(){this._ngZone=(0,n.inject)(n.NgZone),this._points=[],this._destroyed=new c.Subject}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}initialize(e,t){this._menu=e,this._pointerTracker=t,this._subscribeToMouseMoves()}toggle(e){"horizontal"===this._menu.orientation&&e(),this._checkConfigured();const t=!!this._timeoutId;this._points.length>1&&!t?this._isMovingToSubmenu()?this._startTimeout(e):e():t||e()}_startTimeout(e){const t=setTimeout(()=>{this._pointerTracker.activeElement&&t===this._timeoutId&&e(),this._timeoutId=null},300);this._timeoutId=t}_isMovingToSubmenu(){const e=this._getSubmenuBounds();if(!e)return!1;let t=0;const r=this._points[this._points.length-1];for(let a=this._points.length-2;a>=0;a--){const K=Z(r,this._points[a]);Y(e,K,z(r,K))&&t++}return t>=Math.floor(2.5)}_getSubmenuBounds(){return this._pointerTracker?.previousElement?.getMenu()?.nativeElement.getBoundingClientRect()}_checkConfigured(){}_subscribeToMouseMoves(){this._ngZone.runOutsideAngular(()=>{(0,c.fromEvent)(this._menu.nativeElement,"mousemove").pipe((0,u.filter)((e,t)=>t%3==0),(0,u.takeUntil)(this._destroyed)).subscribe(e=>{this._points.push({x:e.clientX,y:e.clientY}),this._points.length>5&&this._points.shift()})})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})(),P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkTargetMenuAim",""]],exportAs:["cdkTargetMenuAim"],features:[n.\u0275\u0275ProvidersFeature([{provide:y,useClass:D}])]}),i})(),I=(()=>{class i extends T{constructor(){super(),this._elementRef=(0,n.inject)(n.ElementRef),this._overlay=(0,n.inject)(g.Overlay),this._ngZone=(0,n.inject)(n.NgZone),this._parentMenu=(0,n.inject)(m,n.InjectFlags.Optional),this._menuAim=(0,n.inject)(y,n.InjectFlags.Optional),this._directionality=(0,n.inject)(b.Directionality,n.InjectFlags.Optional),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){this.isOpen()||(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(e){const t="vertical"===this._parentMenu?.orientation,r=e.keyCode;switch(r){case o.SPACE:case o.ENTER:(0,o.hasModifierKey)(e)||(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case o.RIGHT_ARROW:(0,o.hasModifierKey)(e)||this._parentMenu&&t&&"rtl"!==this._directionality?.value&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case o.LEFT_ARROW:(0,o.hasModifierKey)(e)||this._parentMenu&&t&&"rtl"===this._directionality?.value&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case o.DOWN_ARROW:case o.UP_ARROW:(0,o.hasModifierKey)(e)||t||(e.preventDefault(),this.open(),r===o.DOWN_ARROW?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){const e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._ngZone.runOutsideAngular(()=>{(0,c.fromEvent)(this._elementRef.nativeElement,"mouseenter").pipe((0,u.filter)(()=>!this.menuStack.isEmpty()&&!this.isOpen()),(0,u.takeUntil)(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(e):e()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new g.OverlayConfig({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?g.STANDARD_DROPDOWN_ADJACENT_POSITIONS:g.STANDARD_DROPDOWN_BELOW_POSITIONS)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe((0,u.takeUntil)(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe((0,u.filter)(e=>e.target!=this._elementRef.nativeElement&&!this._elementRef.nativeElement.contains(e.target)),(0,u.takeUntil)(this.stopOutsideClicksListener)).subscribe(e=>{this.isElementInsideMenuStack(e.target)?this._closeSiblingTriggers():this.menuStack.closeAll()})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe((0,u.takeUntil)(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const e=this._elementRef.nativeElement;"BUTTON"===e.nodeName&&!e.getAttribute("type")&&e.setAttribute("type","button")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:["aria-haspopup","menu",1,"cdk-menu-trigger"],hostVars:1,hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("focusin",function(){return t._setHasFocus(!0)})("focusout",function(){return t._setHasFocus(!1)})("keydown",function(a){return t._toggleOnKeydown(a)})("click",function(){return t.toggle()}),2&e&&n.\u0275\u0275attribute("aria-expanded",t.isOpen())},inputs:{menuTemplateRef:["cdkMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkMenuPosition","menuPosition"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[n.\u0275\u0275ProvidersFeature([{provide:k,useExisting:i},S]),n.\u0275\u0275InheritDefinitionFeature]}),i})(),f=(()=>{class i{constructor(){this._dir=(0,n.inject)(b.Directionality,n.InjectFlags.Optional),this._elementRef=(0,n.inject)(n.ElementRef),this._ngZone=(0,n.inject)(n.NgZone),this._menuAim=(0,n.inject)(y,n.InjectFlags.Optional),this._menuStack=(0,n.inject)(h),this._parentMenu=(0,n.inject)(m,n.InjectFlags.Optional),this._menuTrigger=(0,n.inject)(I,n.InjectFlags.Optional|n.InjectFlags.Self),this._disabled=!1,this.triggered=new n.EventEmitter,this.hasMenu=!!this._menuTrigger,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new c.Subject,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,C.coerceBooleanProperty)(e)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){const{keepOpen:t}={...e};!this.disabled&&!this.hasMenu&&(this.triggered.next(),t||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case o.SPACE:case o.ENTER:(0,o.hasModifierKey)(e)||this.trigger({keepOpen:e.keyCode===o.SPACE&&!this.closeOnSpacebarTrigger});break;case o.RIGHT_ARROW:(0,o.hasModifierKey)(e)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case o.LEFT_ARROW:(0,o.hasModifierKey)(e)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(e):this._forwardArrowPressed(e))}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){const t=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(t,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?1:2,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&"horizontal"===this._menuStack.inlineMenuOrientation()&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:0,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>(0,c.fromEvent)(this._elementRef.nativeElement,"mouseenter").pipe((0,u.filter)(()=>!this._menuStack.isEmpty()&&!this.hasMenu),(0,u.takeUntil)(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(e):e()}))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const e=this._elementRef.nativeElement;"BUTTON"===e.nodeName&&!e.getAttribute("type")&&e.setAttribute("type","button")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("blur",function(){return t._resetTabIndex()})("focus",function(){return t._setTabIndex()})("click",function(){return t.trigger()})("keydown",function(a){return t._onKeydown(a)}),2&e&&(n.\u0275\u0275hostProperty("tabindex",t._tabindex),n.\u0275\u0275attribute("aria-disabled",t.disabled||null))},inputs:{disabled:["cdkMenuItemDisabled","disabled"],typeaheadLabel:["cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"]}),i})();class F{constructor(s){this._items=s,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new c.Subject,this.entered.subscribe(e=>this.activeElement=e),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return(0,c.defer)(()=>this._items.changes.pipe((0,u.startWith)(this._items),(0,u.mergeMap)(s=>s.map(e=>(0,c.fromEvent)(e._elementRef.nativeElement,"mouseenter").pipe((0,u.mapTo)(e),(0,u.takeUntil)(this._items.changes)))),(0,u.mergeAll)()))}_getItemPointerExits(){return(0,c.defer)(()=>this._items.changes.pipe((0,u.startWith)(this._items),(0,u.mergeMap)(s=>s.map(e=>(0,c.fromEvent)(e._elementRef.nativeElement,"mouseout").pipe((0,u.mapTo)(e),(0,u.takeUntil)(this._items.changes)))),(0,u.mergeAll)()))}}let X=0,O=(()=>{class i extends p{constructor(){super(...arguments),this.nativeElement=(0,n.inject)(n.ElementRef).nativeElement,this.ngZone=(0,n.inject)(n.NgZone),this.menuStack=(0,n.inject)(h),this.menuAim=(0,n.inject)(y,n.InjectFlags.Optional|n.InjectFlags.Self),this.dir=(0,n.inject)(b.Directionality,n.InjectFlags.Optional),this.id="cdk-menu-"+X++,this.orientation="vertical",this.isInline=!1,this.destroyed=new c.Subject,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){return this.isInline?this._menuStackHasFocus?-1:0:null}closeOpenMenu(e,t){const{focusParentTrigger:r}={...t},a=this.keyManager,d=this.triggerItem;e===d?.getMenuTrigger()?.getMenu()&&(d?.getMenuTrigger()?.close(),r&&(d?a.setActiveItem(d):a.setFirstItemActive()))}_setKeyManager(){this.keyManager=new W.FocusKeyManager(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const e=(0,c.merge)(this.items.changes,this.destroyed);this.items.changes.pipe((0,u.startWith)(this.items),(0,u.mergeMap)(t=>t.filter(r=>r.hasMenu).map(r=>r.getMenuTrigger().opened.pipe((0,u.mapTo)(r),(0,u.takeUntil)(e)))),(0,u.mergeAll)(),(0,u.switchMap)(t=>(this.triggerItem=t,t.getMenuTrigger().closed)),(0,u.takeUntil)(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe((0,u.takeUntil)(this.destroyed)).subscribe(({item:e,focusParentTrigger:t})=>this.closeOpenMenu(e,{focusParentTrigger:t}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe((0,u.takeUntil)(this.destroyed)).subscribe(e=>{this._menuStackHasFocus=e})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new F(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}}return i.\u0275fac=function(){let s;return function(t){return(s||(s=n.\u0275\u0275getInheritedFactory(i)))(t||i)}}(),i.\u0275dir=n.\u0275\u0275defineDirective({type:i,contentQueries:function(e,t,r){if(1&e&&n.\u0275\u0275contentQuery(r,f,5),2&e){let a;n.\u0275\u0275queryRefresh(a=n.\u0275\u0275loadQuery())&&(t.items=a)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("focus",function(){return t.focusFirstItem()})("focusin",function(){return t.menuStack.setHasFocus(!0)})("focusout",function(){return t.menuStack.setHasFocus(!1)}),2&e&&(n.\u0275\u0275hostProperty("tabindex",t._getTabIndex())("id",t.id),n.\u0275\u0275attribute("aria-orientation",t.orientation)("data-cdk-menu-stack-id",t.menuStack.id))},inputs:{id:"id"},features:[n.\u0275\u0275InheritDefinitionFeature]}),i})(),x=(()=>{class i extends O{constructor(){super(),this._parentTrigger=(0,n.inject)(k,n.InjectFlags.Optional),this.closed=new n.EventEmitter,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){const t=this.keyManager;switch(e.keyCode){case o.LEFT_ARROW:case o.RIGHT_ARROW:(0,o.hasModifierKey)(e)||(e.preventDefault(),t.setFocusOrigin("keyboard"),t.onKeydown(e));break;case o.ESCAPE:(0,o.hasModifierKey)(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:2,focusParentTrigger:!0}));break;case o.TAB:(0,o.hasModifierKey)(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:t.onKeydown(e)}}_toggleMenuFocus(e){const t=this.keyManager;switch(e){case 0:t.setFocusOrigin("keyboard"),t.setNextItemActive();break;case 1:t.setFocusOrigin("keyboard"),t.setPreviousItemActive();break;case 2:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe((0,u.takeUntil)(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("keydown",function(a){return t._handleKeyEvent(a)}),2&e&&n.\u0275\u0275classProp("cdk-menu-inline",t.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[n.\u0275\u0275ProvidersFeature([{provide:p,useExisting:i},{provide:m,useExisting:i},A("vertical")]),n.\u0275\u0275InheritDefinitionFeature]}),i})(),w=(()=>{class i extends O{constructor(){super(...arguments),this.orientation="horizontal",this.isInline=!0}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}_handleKeyEvent(e){const t=this.keyManager;switch(e.keyCode){case o.UP_ARROW:case o.DOWN_ARROW:case o.LEFT_ARROW:case o.RIGHT_ARROW:if(!(0,o.hasModifierKey)(e)&&(e.keyCode===o.LEFT_ARROW||e.keyCode===o.RIGHT_ARROW)){e.preventDefault();const a=t.activeItem?.isMenuOpen();t.activeItem?.getMenuTrigger()?.close(),t.setFocusOrigin("keyboard"),t.onKeydown(e),a&&t.activeItem?.getMenuTrigger()?.open()}break;case o.ESCAPE:(0,o.hasModifierKey)(e)||(e.preventDefault(),t.activeItem?.getMenuTrigger()?.close());break;case o.TAB:(0,o.hasModifierKey)(e,"altKey","metaKey","ctrlKey")||t.activeItem?.getMenuTrigger()?.close();break;default:t.onKeydown(e)}}_toggleOpenMenu(e){const t=this.keyManager;switch(e){case 0:t.setFocusOrigin("keyboard"),t.setNextItemActive(),t.activeItem?.getMenuTrigger()?.open();break;case 1:t.setFocusOrigin("keyboard"),t.setPreviousItemActive(),t.activeItem?.getMenuTrigger()?.open();break;case 2:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack?.emptied.pipe((0,u.takeUntil)(this.destroyed)).subscribe(e=>this._toggleOpenMenu(e))}}return i.\u0275fac=function(){let s;return function(t){return(s||(s=n.\u0275\u0275getInheritedFactory(i)))(t||i)}}(),i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuBar",""]],hostAttrs:["role","menubar",1,"cdk-menu-bar"],hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("keydown",function(a){return t._handleKeyEvent(a)})},exportAs:["cdkMenuBar"],features:[n.\u0275\u0275ProvidersFeature([{provide:p,useExisting:i},{provide:m,useExisting:i},{provide:h,useFactory:()=>M.inline("horizontal")}]),n.\u0275\u0275InheritDefinitionFeature]}),i})(),_=(()=>{class i extends f{constructor(){super(...arguments),this._checked=!1,this.closeOnSpacebarTrigger=!1}get checked(){return this._checked}set checked(e){this._checked=(0,C.coerceBooleanProperty)(e)}}return i.\u0275fac=function(){let s;return function(t){return(s||(s=n.\u0275\u0275getInheritedFactory(i)))(t||i)}}(),i.\u0275dir=n.\u0275\u0275defineDirective({type:i,hostVars:2,hostBindings:function(e,t){2&e&&n.\u0275\u0275attribute("aria-checked",!!t.checked)("aria-disabled",t.disabled||null)},inputs:{checked:["cdkMenuItemChecked","checked"]},features:[n.\u0275\u0275InheritDefinitionFeature]}),i})(),Q=0,B=(()=>{class i extends _{constructor(){super(),this._selectionDispatcher=(0,n.inject)(v.UniqueSelectionDispatcher),this._id=""+Q++,this._registerDispatcherListener()}ngOnDestroy(){super.ngOnDestroy(),this._removeDispatcherListener()}trigger(e){super.trigger(e),this.disabled||this._selectionDispatcher.notify(this._id,"")}_registerDispatcherListener(){this._removeDispatcherListener=this._selectionDispatcher.listen(e=>{this.checked=this._id===e})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuItemRadio",""]],hostAttrs:["role","menuitemradio"],hostVars:2,hostBindings:function(e,t){2&e&&n.\u0275\u0275classProp("cdk-menu-item-radio",!0)},exportAs:["cdkMenuItemRadio"],features:[n.\u0275\u0275ProvidersFeature([{provide:_,useExisting:i},{provide:f,useExisting:_}]),n.\u0275\u0275InheritDefinitionFeature]}),i})(),j=(()=>{class i extends _{trigger(e){super.trigger(e),this.disabled||(this.checked=!this.checked)}}return i.\u0275fac=function(){let s;return function(t){return(s||(s=n.\u0275\u0275getInheritedFactory(i)))(t||i)}}(),i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkMenuItemCheckbox",""]],hostAttrs:["role","menuitemcheckbox"],hostVars:2,hostBindings:function(e,t){2&e&&n.\u0275\u0275classProp("cdk-menu-item-checkbox",!0)},exportAs:["cdkMenuItemCheckbox"],features:[n.\u0275\u0275ProvidersFeature([{provide:_,useExisting:i},{provide:f,useExisting:_}]),n.\u0275\u0275InheritDefinitionFeature]}),i})();const $=g.STANDARD_DROPDOWN_BELOW_POSITIONS.map(i=>{const s="start"===i.overlayX?2:-2,e="top"===i.overlayY?2:-2;return{...i,offsetX:s,offsetY:e}});let N=(()=>{class i{update(e){i._openContextMenuTrigger!==e&&(i._openContextMenuTrigger?.close(),i._openContextMenuTrigger=e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),H=(()=>{class i extends T{constructor(){super(),this._overlay=(0,n.inject)(g.Overlay),this._directionality=(0,n.inject)(b.Directionality,n.InjectFlags.Optional),this._contextMenuTracker=(0,n.inject)(N),this._disabled=!1,this._setMenuStackCloseListener()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,C.coerceBooleanProperty)(e)}open(e){this._open(e,!1)}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._contextMenuTracker.update(this),this._open({x:e.clientX,y:e.clientY},!0),this.childMenu?.focusFirstItem(2===e.button?"mouse":0===e.button?"keyboard":"program"))}_getOverlayConfig(e){return new g.OverlayConfig({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return this._overlay.position().flexibleConnectedTo(e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??$)}_setMenuStackCloseListener(){this.menuStack.closed.pipe((0,u.takeUntil)(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())})}_subscribeToOutsideClicks(e){if(this.overlayRef){let t=this.overlayRef.outsidePointerEvents();if(e){const[r,a]=(0,c.partition)(t,({type:d})=>"auxclick"===d);t=(0,c.merge)(a,r.pipe((0,u.skip)(1)))}t.pipe((0,u.takeUntil)(this.stopOutsideClicksListener)).subscribe(r=>{this.isElementInsideMenuStack(r.target)||this.menuStack.closeAll()})}}_open(e,t){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(e),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(e),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(e)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(t)))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(e,t){1&e&&n.\u0275\u0275listener("contextmenu",function(a){return t._openOnContextMenu(a)}),2&e&&n.\u0275\u0275attribute("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:["cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkContextMenuPosition","menuPosition"],disabled:["cdkContextMenuDisabled","disabled"]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],features:[n.\u0275\u0275ProvidersFeature([{provide:k,useExisting:i},{provide:h,useClass:M}]),n.\u0275\u0275InheritDefinitionFeature]}),i})(),J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=n.\u0275\u0275defineInjector({imports:[g.OverlayModule]}),i})()}}]);