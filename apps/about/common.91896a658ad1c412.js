(self.webpackChunkabout=self.webpackChunkabout||[]).push([[592],{437:(O,v,s)=>{s.r(v),s.d(v,{RemoteEntryModule:()=>g});var i=s(417),M=s(5294),o=s(8944),f=s(2264);let u=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=o.\u0275\u0275defineComponent({type:n,selectors:[["mfe-nx-welcome"]],decls:1,vars:0,consts:[["title","About","bg","#0d5625"]],template:function(l,m){1&l&&o.\u0275\u0275element(0,"mfe-welcome",0)},dependencies:[f.WelcomeComponent],encapsulation:2}),n})(),A=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=o.\u0275\u0275defineComponent({type:n,selectors:[["mfe-about-entry"]],decls:1,vars:0,template:function(l,m){1&l&&o.\u0275\u0275element(0,"mfe-nx-welcome")},dependencies:[u],encapsulation:2}),n})(),g=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=o.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=o.\u0275\u0275defineInjector({imports:[i.CommonModule,f.UiModule,M.RouterModule.forChild([{path:"",component:A}])]}),n})()},9165:(O,v,s)=>{s.r(v),s.d(v,{AUTH_CONFIG:()=>S,AUTH_FEATURE_KEY:()=>b,AUTH_SERVICE:()=>y,Auth0Service:()=>N,AuthActionTypes:()=>u,AuthEffects:()=>F,AuthGuard:()=>P,AuthService:()=>L,DataModule:()=>V,KEY_BACK_URL:()=>E,LayoutService:()=>W,MyAuthService:()=>I,UserInfo:()=>T,authProvider:()=>x,authReducer:()=>R,checkLogin:()=>p,getAuthError:()=>D,getAuthState:()=>w,initialAuthState:()=>U,login:()=>A,loginFailure:()=>n,loginSuccess:()=>g,logout:()=>l,logoutComplete:()=>m});var i=s(8944),M=s(417),o=s(1531),f=s(6776),u=(()=>{return(e=u||(u={})).Login="[Login Page] Login",e.LoginComplete="[Login Page] Login Complete",e.LoginSuccess="[Auth API] Login Success",e.LoginFailure="[Auth API] Login Failure",e.CheckLogin="[Auth] Check Login",e.Logout="[Auth] Confirm Logout",e.LogoutComplete="[Auth] Logout Complete",u;var e})();const A=(0,o.createAction)(u.Login,(0,o.props)()),g=(0,o.createAction)(u.LoginSuccess,(0,o.props)()),n=(0,o.createAction)(u.LoginFailure,(0,o.props)()),p=(0,o.createAction)(u.CheckLogin),l=(0,o.createAction)(u.Logout,o.props),m=(0,o.createAction)(u.LogoutComplete);var r=s(3970),$=s(3902),j=s(2580);const S=new i.InjectionToken("auth.config");class T extends j.User{}class L{constructor(c,t){this.httpClient=c,this.authConfig=t}}const E="backUrl";let I=(()=>{class e extends L{constructor(t,h){super(t,h),this.user$=new r.BehaviorSubject(null),this.isAuthenticated$=new r.BehaviorSubject(!1),this.isLoggedIn$=this.user$.pipe((0,r.map)(a=>!!a)),this.isLoading$=new r.Subject}getId(){return e.id}isAuthenticated(){return console.log(this),this.isAuthenticated$}login(t){return t.pageUrl&&(this.loginPageUrl=t.pageUrl),t.requestUrl?("get"===t.requestMethod?this.httpClient.get(t.requestUrl):this.httpClient.post(t.requestUrl,t.requestBody)).pipe((0,r.map)(a=>(this.user$.next(a),this.user$.complete(),this.isAuthenticated$.next(!0),a))):(0,r.throwError)(()=>new Error("Username is required."))}getUser(){return this.user$}getAccessToken(){return this.user$.pipe((0,r.map)(t=>""))}logout(t){this.user$.next(null),this.user$.complete(),this.isAuthenticated$.next(!1)}}return e.id="my.auth",e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject($.HttpClient),i.\u0275\u0275inject(S))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();const y=new i.InjectionToken("auth.service"),x={provide:y,useClass:I,deps:[$.HttpClient,S,j.AuthService]};let F=(()=>{class e{constructor(t,h){this.actions$=t,this.authService=h,this.login$=(0,f.createEffect)(()=>this.actions$.pipe((0,f.ofType)(u.Login),(0,r.switchMap)(a=>this.authService.login(a).pipe((0,r.map)(d=>g(d)),(0,r.catchError)(d=>(0,r.of)(n({error:d}))))))),this.logout$=(0,f.createEffect)(()=>this.actions$.pipe((0,f.ofType)(u.Logout),(0,r.switchMap)(()=>{const a=this.authService.logout();return a instanceof r.Observable?a.pipe((0,r.map)(()=>m())):(0,r.of)(m())})))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(f.Actions),i.\u0275\u0275inject(y))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();const b="auth",U={isAuthenticated:!1,user:void 0},k=(0,o.createReducer)(U,(0,o.on)(A,e=>({...e,loaded:!1})),(0,o.on)(g,(e,c)=>({...e,isAuthenticated:!0,user:c})),(0,o.on)(n,(e,{error:c})=>({...e,error:c,isAuthenticated:!1})),(0,o.on)(m,e=>U));function R(e,c){return k(e,c)}const w=(0,o.createFeatureSelector)(b),D=(0,o.createSelector)(w,e=>e.error);var H=s(5294);let P=(()=>{class e{constructor(t,h){this.router=t,this.authService=h}canActivate(t,h){return this.authService.isAuthenticated$.pipe((0,r.map)(a=>{if(!a){let d=this.authService.authConfig.loginPageUrl||"/login";d=d.includes("?")?`${d}&${E}=${h.url}`:`${d}?${E}=${h.url}`,this.router.navigateByUrl(d)}return a}))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(H.Router),i.\u0275\u0275inject(y))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e extends L{constructor(t,h,a,d){super(t,h),this.auth0=a,this.store=d,this.user$=this.auth0.user$,this.isAuthenticated$=this.auth0.isAuthenticated$,this.isLoggedIn$=this.auth0.user$.pipe((0,r.map)(C=>!!C)),this.isLoading$=this.auth0.isLoading$,this.auth0.user$.subscribe(C=>{C&&this.store.dispatch(g(C))})}getId(){return e.id}isAuthenticated(){return this.auth0.isAuthenticated$}login(t){return this.auth0.loginWithRedirect({redirect_uri:location.href,appState:{target:t.backUrl||"/"}}).pipe((0,r.switchMap)(()=>(0,r.throwError)(()=>new Error("Redirection to server..."))))}getAccessToken(){return this.auth0.getAccessTokenSilently()}logout(t){this.auth0.logout({returnTo:t})}getUser(){return this.auth0.user$}}return e.id="auth0",e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject($.HttpClient),i.\u0275\u0275inject(S),i.\u0275\u0275inject(j.AuthService),i.\u0275\u0275inject(o.Store))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({providers:[x],imports:[M.CommonModule,o.StoreModule.forFeature(b,R),f.EffectsModule.forFeature([F])]}),e})(),W=(()=>{class e{constructor(){this.config={ripple:!1,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-indigo",scale:14},this.state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1},this.configUpdate=new r.Subject,this.overlayOpen=new r.Subject,this.configUpdate$=this.configUpdate.asObservable(),this.overlayOpen$=this.overlayOpen.asObservable()}onMenuToggle(){this.isOverlay()&&(this.state.overlayMenuActive=!this.state.overlayMenuActive,this.state.overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.state.staticMenuDesktopInactive=!this.state.staticMenuDesktopInactive:(this.state.staticMenuMobileActive=!this.state.staticMenuMobileActive,this.state.staticMenuMobileActive&&this.overlayOpen.next(null))}onOverlaySubmenuOpen(){this.overlayOpen.next(null)}showProfileSidebar(){this.state.profileSidebarVisible=!this.state.profileSidebarVisible,this.state.profileSidebarVisible&&this.overlayOpen.next(null)}showConfigSidebar(){this.state.configSidebarVisible=!0}isOverlay(){return"overlay"===this.config.menuMode}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this.configUpdate.next(this.config)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);